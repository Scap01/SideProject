;(function($){$.fn.pajinate=function(options){var current_page='current_page';var items_per_page='items_per_page';var meta;var defaults={item_container_id:'.content',items_per_page:10,nav_panel_id:'.page_navigation',nav_info_id:'.info_text',num_page_links_to_display:20,start_page:0,wrap_around:false,nav_label_first:'First',nav_label_prev:'Prev',nav_label_next:'Next',nav_label_last:'Last',nav_order:["first","prev","num","next","last"],nav_label_info:'Showing {0}-{1} of {2} results',show_first_last:true,abort_on_small_lists:false,jquery_ui:false,jquery_ui_active:"ui-state-highlight",jquery_ui_default:"ui-state-default",jquery_ui_disabled:"ui-state-disabled"};var options=$.extend(defaults,options);var $item_container;var $page_container;var $items;var $nav_panels;var total_page_no_links;var jquery_ui_default_class=options.jquery_ui?options.jquery_ui_default:'';var jquery_ui_active_class=options.jquery_ui?options.jquery_ui_active:'';var jquery_ui_disabled_class=options.jquery_ui?options.jquery_ui_disabled:'';return this.each(function(){$page_container=$(this);$item_container=$(this).find(options.item_container_id);$items=$page_container.find(options.item_container_id).children();if(options.abort_on_small_lists&&options.items_per_page>=$items.size())return $page_container;meta=$page_container;meta.data(current_page,0);meta.data(items_per_page,options.items_per_page);var total_items=$item_container.children().size();var number_of_pages=Math.ceil(total_items/options.items_per_page);var more='<li class="ellipse more"><span class="text">...</span></li>';var less='<li class="ellipse less"><span class="text">...</span></li>';var first=!options.show_first_last?'':'<li class="first"><a class="first_link pagenav '+jquery_ui_default_class+'" href="">'+options.nav_label_first+'</a></li>';var last=!options.show_first_last?'':'<li class="last"><a class="last_link pagenav '+jquery_ui_default_class+'" href="">'+options.nav_label_last+'</a></li>';var navigation_html="<ul class=\"pagination\">";for(var i=0;i<options.nav_order.length;i++){switch(options.nav_order[i]){case"first":navigation_html+=first;break;case"last":navigation_html+=last;break;case"next":navigation_html+='<li class="next"><a class="next_link pagenav '+jquery_ui_default_class+'" href="">'+options.nav_label_next+'</a></li>';break;case"prev":navigation_html+='<li class="previous"><a class="previous_link pagenav '+jquery_ui_default_class+'" href="">'+options.nav_label_prev+'</a></li>';break;case"num":navigation_html+=less;var current_link=0;while(number_of_pages>current_link){navigation_html+='<li class="page"><a class="page_link pagenav '+jquery_ui_default_class+'" href="" longdesc="'+current_link+'">'+(current_link+1)+'</a></li>';current_link++}navigation_html+=more;break;default:break}}navigation_html+="</ul>";$nav_panels=$page_container.find(options.nav_panel_id);$nav_panels.html(navigation_html).each(function(){$(this).find('.page:first').addClass('first-page');$(this).find('.page:last').addClass('last-page')});$nav_panels.find('.ellipse').hide();$nav_panels.find('.previous').next().next().addClass('active '+jquery_ui_active_class);$items.hide();$items.slice(0,meta.data(items_per_page)).show();total_page_no_links=$page_container.children(options.nav_panel_id+':first').find('.page').size();options.num_page_links_to_display=Math.min(options.num_page_links_to_display,total_page_no_links);$nav_panels.find('.page').hide();$nav_panels.each(function(){$(this).find('.page').slice(0,options.num_page_links_to_display).show()});$page_container.find('.first_link').click(function(e){e.preventDefault();movePageNumbersRight($(this),0);gotopage(0)});$page_container.find('.last_link').click(function(e){e.preventDefault();var lastPage=total_page_no_links-1;movePageNumbersLeft($(this),lastPage);gotopage(lastPage)});$page_container.find('.previous_link').click(function(e){e.preventDefault();showPrevPage($(this))});$page_container.find('.next_link').click(function(e){e.preventDefault();showNextPage($(this))});$page_container.find('.page_link').click(function(e){e.preventDefault();gotopage($(this).attr('longdesc'))});gotopage(parseInt(options.start_page));toggleMoreLess();if(options.start_page>0){$nav_panels.find('.less').show()}else{$nav_panels.find('.less').hide()}if($nav_panels.find('.page').length>options.start_page+options.num_page_links_to_display){$nav_panels.find('.more').show()}else{$nav_panels.find('.more').hide()}if(!options.wrap_around)tagNextPrev()});function showPrevPage(e){new_page=parseInt(meta.data(current_page))-1;if($(e).parent().siblings('.active').prev('.page').length==true){movePageNumbersRight(e,new_page);gotopage(new_page)}else if(options.wrap_around){gotopage(total_page_no_links-1)}};function showNextPage(e){new_page=parseInt(meta.data(current_page))+1;if($(e).parent().siblings('.active').next('.page').length==true){movePageNumbersLeft(e,new_page);gotopage(new_page)}else if(options.wrap_around){gotopage(0)}};function gotopage(page_num){var ipp=parseInt(meta.data(items_per_page));var isLastPage=false;start_from=page_num*ipp;end_on=start_from+ipp;var items=$items.hide().slice(start_from,end_on);items.show();$page_container.find(options.nav_panel_id).find('.page_link[longdesc='+page_num+']').parent().addClass('active '+jquery_ui_active_class).siblings('.active').removeClass('active '+jquery_ui_active_class);meta.data(current_page,page_num);$page_container.find(options.nav_info_id).html(options.nav_label_info.replace("{0}",start_from+1).replace("{1}",start_from+items.length).replace("{2}",$items.length));toggleMoreLess();tagNextPrev()};function movePageNumbersLeft(e,new_p){var new_page=new_p;if($(e).parent().parent().find('.page_link[longdesc='+new_page+']').parent().css('display')=='none'){$nav_panels.each(function(){$(this).find('.page').hide().slice(parseInt(new_page-options.num_page_links_to_display+1),new_page+1).show()})}}function movePageNumbersRight(e,new_p){var new_page=new_p;if($(e).parent().parent().find('.page_link[longdesc='+new_page+']').parent().css('display')=='none'){$nav_panels.each(function(){$(this).find('.page').hide().slice(new_page,new_page+parseInt(options.num_page_links_to_display)).show()})}}function toggleMoreLess(){if(!$nav_panels.find('.page:visible').hasClass('last-page')){$nav_panels.find('.more').show()}else{$nav_panels.find('.more').hide()}if(!$nav_panels.find('.page:visible').hasClass('first-page')){$nav_panels.find('.less').show()}else{$nav_panels.find('.less').hide()}}function tagNextPrev(){if($nav_panels.find('.last-page').hasClass('active')){$nav_panels.find('.next, .last').addClass('disabled '+jquery_ui_disabled_class)}else{$nav_panels.find('.next, .last').removeClass('disabled '+jquery_ui_disabled_class)}if($nav_panels.find('.first-page').hasClass('active')){$nav_panels.find('.previous, .first').addClass('disabled '+jquery_ui_disabled_class)}else{$nav_panels.find('.previous, .first').removeClass('disabled '+jquery_ui_disabled_class)}}}})(jQuery);